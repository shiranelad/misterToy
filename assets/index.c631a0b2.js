import{r as f,o as d,c as u,a as o,b as m,w as b,d as a,e as D,f as _,v as $,g as E,h as B,i as N,j as k,t as y,F as w,k as x,l as C,m as S,n as g,p as O,q as A,s as V,u as L,x as P}from"./vendor.94a2f4f9.js";const U=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))c(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&c(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerpolicy&&(n.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?n.credentials="include":s.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(s){if(s.ep)return;s.ep=!0;const n=r(s);fetch(s.href,n)}};U();var p=(t,e)=>{const r=t.__vccOpts||t;for(const[c,s]of e)r[c]=s;return r};const M={},R={class:"main-header app-header flex align-center space-between"},q=o("div",{class:"logo uppercase"},[o("h2",null,"Toys")],-1),H={class:"flex align-center gap-1"},z=a("Home"),j=a(" | "),J=a("Toy"),Y=a(" | "),G=a("About");function K(t,e){const r=f("router-link");return d(),u("header",R,[q,o("nav",H,[m(r,{class:"link",to:"/"},{default:b(()=>[z]),_:1}),j,m(r,{class:"link",to:"/toy"},{default:b(()=>[J]),_:1}),Y,m(r,{class:"link",to:"/about"},{default:b(()=>[G]),_:1})])])}var F=p(M,[["render",K]]);const W={name:"app",created(){this.$store.dispatch({type:"loadToys"})},methods:{},components:{appHeader:F}},Q={class:"app-container container"};function X(t,e,r,c,s,n){const i=f("app-header"),l=f("router-view");return d(),u("section",Q,[m(i),m(l)])}var Z=p(W,[["render",X]]);const ee={name:"home",created(){},methods:{clicked(){alert("I got clicked!")}},components:{appHeader:F}},te=o("h3",null,"Home Sweet Home",-1),oe=o("button",null,"Click Me",-1),se=[te,oe];function ne(t,e,r,c,s,n){return d(),u("section",null,se)}var re=p(ee,[["render",ne]]);const ie={name:"toy-filter",data(){return{filterBy:{name:"",inStock:!1,labels:[],sortBy:""}}},methods:{setFilter(){this.$emit("setFilter",this.filterBy)}}},le={class:"toy-filter flex col"},ce=a("In Stock?"),ae=a(" Labels: "),de=N('<option value="On wheels">On wheels</option><option value="Box game">Box game</option><option value="Art">Art</option><option value="Baby">Baby</option><option value="Doll">Doll</option><option value="Puzzle">Puzzle</option><option value="Outdoor">Outdoor</option>',7),ue=[de],ye=a(" Sort By: "),pe=o("option",{value:"time"},"Time",-1),_e=o("option",{value:"name"},"Name",-1),me=o("option",{value:"price"},"Price",-1),fe=[pe,_e,me];function he(t,e,r,c,s,n){const i=D("focus");return d(),u("section",le,[_(o("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>s.filterBy.name=l),onInput:e[1]||(e[1]=(...l)=>n.setFilter&&n.setFilter(...l)),type:"text",class:"form-input",placeholder:"Search toy name..."},null,544),[[i],[$,s.filterBy.name]]),o("label",null,[ce,_(o("input",{type:"checkbox",onInput:e[2]||(e[2]=(...l)=>n.setFilter&&n.setFilter(...l)),"onUpdate:modelValue":e[3]||(e[3]=l=>s.filterBy.inStock=l),class:"form-input"},null,544),[[E,s.filterBy.inStock]])]),o("label",null,[ae,_(o("select",{onChange:e[4]||(e[4]=(...l)=>n.setFilter&&n.setFilter(...l)),multiple:"","onUpdate:modelValue":e[5]||(e[5]=l=>s.filterBy.labels=l)},ue,544),[[B,s.filterBy.labels]]),o("label",null,[ye,_(o("select",{onChange:e[6]||(e[6]=(...l)=>n.setFilter&&n.setFilter(...l)),"onUpdate:modelValue":e[7]||(e[7]=l=>s.filterBy.sortBy=l)},fe,544),[[B,s.filterBy.sortBy]])])])])}var ve=p(ie,[["render",he]]);const be={},ge={class:"custom-card flex flex-col gap-1 items-center"};function Te(t,e){return d(),u("article",ge,[o("header",null,[k(t.$slots,"header",{},void 0,!0)]),o("main",null,[k(t.$slots,"default",{},void 0,!0)]),o("footer",null,[k(t.$slots,"footer",{},void 0,!0)])])}var ke=p(be,[["render",Te],["__scopeId","data-v-6dae363a"]]);const $e={name:"toy-preview",props:{toy:Object},created(){},components:{customCard:ke},methods:{goToDetail(){this.$router.push(`/toy/${this.toy._id}`)},goToEdit(){this.$router.push(`/toy/edit/${this.toy._id}`)},removeToy(t){this.$emit("removeToy",t)}}},we={class:"toy-preview"},xe=o("span",{class:"fw-bold"},"Name:",-1),Se=o("span",{class:"fw-bold"},"In Stock:",-1),Be=o("span",{class:"fw-bold"},"Price:",-1),Ee=o("span",{class:"fw-bold"},"Created At:",-1),Ce=o("span",{class:"fw-bold"},"Categories:",-1),Fe={class:"btn-group"};function Ie(t,e,r,c,s,n){const i=f("custom-card");return d(),u("li",we,[m(i,null,{header:b(()=>[o("p",null,[xe,a(" "+y(r.toy.name),1)]),o("p",null,[Se,a(" "+y(r.toy.inStock?"Yes":"No"),1)]),o("p",null,[Be,a(" "+y(t.$filters.currencyUSD(r.toy.price)),1)]),o("p",null,[Ee,a(" "+y(new Date(r.toy.createdAt).toISOString().substr(0,10)),1)]),o("p",null,[Ce,a(" "+y(r.toy.labels),1)])]),footer:b(()=>[o("div",Fe,[o("button",{onClick:e[0]||(e[0]=(...l)=>n.goToEdit&&n.goToEdit(...l)),class:"btn btn-primary"},"edit"),o("button",{onClick:e[1]||(e[1]=(...l)=>n.goToDetail&&n.goToDetail(...l)),class:"btn btn-info"},"details"),o("button",{onClick:e[2]||(e[2]=l=>n.removeToy(r.toy._id)),class:"btn btn-danger"}," delete ")])]),_:1})])}var De=p($e,[["render",Ie]]);const Ne={props:{toys:{type:Array,required:!0}},components:{toyPreview:De},methods:{removeToy(t){this.$emit("removeToy",t)}}},Oe={class:"toy-list clean-list"};function Ae(t,e,r,c,s,n){const i=f("toy-preview");return d(),u("ul",Oe,[(d(!0),u(w,null,x(r.toys,l=>(d(),C(i,{onRemoveToy:n.removeToy,toy:l,key:l._id},null,8,["onRemoveToy","toy"]))),128))])}var Ve=p(Ne,[["render",Ae]]);const Le={name:"toy-app",data(){return{}},computed:{toys(){return this.$store.getters.toys}},created(){},methods:{goToEdit(){this.$router.push("/toy/edit")},removeToy(t){this.$store.dispatch({type:"removeToy",id:t})},setFilter(t){t=JSON.parse(JSON.stringify(t)),this.$store.dispatch({type:"filter",filterBy:t})}},components:{toyList:Ve,toyFilter:ve}},Pe={class:"toy-app flex col gap-1"};function Ue(t,e,r,c,s,n){const i=f("toy-filter"),l=f("toy-list");return d(),u("section",Pe,[o("button",{onClick:e[0]||(e[0]=(...I)=>n.goToEdit&&n.goToEdit(...I)),class:"btn btn-secondary"},"Add a new toy"),m(i,{onSetFilter:n.setFilter},null,8,["onSetFilter"]),n.toys?(d(),C(l,{key:0,onRemoveToy:n.removeToy,toys:n.toys},null,8,["onRemoveToy","toys"])):S("",!0)])}var Me=p(Le,[["render",Ue]]);const T="//localhost:3030/api/toy/",v={query:Re,getById:qe,remove:He,save:ze,getEmptyToy:je};function Re(t){return g.get(T,{params:t}).then(e=>e.data)}function qe(t){return g.get(T+t).then(e=>e.data)}function He(t){return g.delete(T+t)}function ze(t){return t._id?g.put(T+t._id,t).then(e=>e.data):g.post(T,t).then(e=>e.data)}function je(){return{_id:"",name:"",price:0,inStock:!0,createdAt:Date.now(),labels:["Doll","Baby"],reviews:["Good","Nice","Fun"]}}const Je={name:"toy-detail",data(){return{toy:null}},created(){let{toyId:t}=this.$route.params;v.getById(t).then(e=>{this.toy=e})},methods:{goBack(){this.$router.push("/toy")}}},Ye={key:0,class:"toy-details flex flex-col items-center gap-2"},Ge=o("span",{class:"fw-bold"},"ID:",-1),Ke=o("span",{class:"fw-bold"},"Name:",-1),We=o("span",{class:"fw-bold"},"Price:",-1),Qe=o("span",{class:"fw-bold"},"In Stock:",-1),Xe={class:"fw-bold"},Ze=a("Categories: "),et={key:"label"},tt={class:"fw-bold"},ot=a("Reviews: "),st={key:"review"};function nt(t,e,r,c,s,n){return s.toy?(d(),u("section",Ye,[o("article",null,[o("p",null,[Ge,a(" "+y(s.toy._id),1)]),o("p",null,[Ke,a(" "+y(s.toy.name),1)]),o("p",null,[We,a(" "+y(s.toy.price),1)]),o("p",null,[Qe,a(" "+y(s.toy.inStock?"Yes":"No"),1)]),o("p",null,[o("ul",Xe,[Ze,(d(!0),u(w,null,x(s.toy.labels,i=>(d(),u("li",et,y(i),1))),128))])]),o("p",null,[o("ul",tt,[ot,(d(!0),u(w,null,x(s.toy.reviews,i=>(d(),u("li",st,y(i),1))),128))])])]),o("button",{onClick:e[0]||(e[0]=(...i)=>n.goBack&&n.goBack(...i)),class:"btn btn-primary"},"go back")])):S("",!0)}var rt=p(Je,[["render",nt]]);const it={name:"toy-edit",data(){return{toyToEdit:null}},created(){let{toyId:t}=this.$route.params;t?v.getById(t).then(e=>{this.toyToEdit=e}):this.toyToEdit=v.getEmptyToy()},methods:{goBack(){this.$router.push("/toy")},saveToy(){this.$store.dispatch({type:"saveToy",toy:this.toyToEdit}).then(()=>{this.$router.push("/toy")})}}},lt={key:0,class:"toy-edit"},ct={class:"form-control"},at=o("label",{for:"toyname",class:"form-label"},"Toy Name",-1),dt={class:"form-control"},ut=o("label",{for:"price",class:"form-label"},"Toy Price",-1),yt=o("label",{for:"inStock",class:"form-label"},"Toy In Stock?",-1),pt={class:"btn-group"};function _t(t,e,r,c,s,n){return s.toyToEdit?(d(),u("section",lt,[o("form",{onSubmit:e[5]||(e[5]=O((...i)=>n.saveToy&&n.saveToy(...i),["prevent"])),class:"form"},[o("div",ct,[at,_(o("input",{required:"","onUpdate:modelValue":e[0]||(e[0]=i=>s.toyToEdit.name=i),id:"toyname",type:"text",class:"form-input",placeholder:"Enter your toy name here..."},null,512),[[$,s.toyToEdit.name]])]),o("div",dt,[ut,_(o("input",{required:"","onUpdate:modelValue":e[1]||(e[1]=i=>s.toyToEdit.price=i),id:"price",type:"number",class:"form-input"},null,512),[[$,s.toyToEdit.price,void 0,{number:!0}]]),yt,_(o("input",{"onUpdate:modelValue":e[2]||(e[2]=i=>s.toyToEdit.inStock=i),id:"inStock",type:"checkbox",class:"form-input"},null,512),[[E,s.toyToEdit.inStock]])]),o("div",pt,[o("button",{onClick:e[3]||(e[3]=(...i)=>n.saveToy&&n.saveToy(...i)),class:"btn btn-info"},"save"),o("button",{onClick:e[4]||(e[4]=(...i)=>n.goBack&&n.goBack(...i)),class:"btn btn-danger-text"},"go back")])],32)])):S("",!0)}var mt=p(it,[["render",_t]]);const ft=A({history:V(),routes:[{path:"/",name:"home",component:re},{path:"/toy",name:"toy-app",component:Me},{path:"/toy/:toyId",name:"toy-details",component:rt},{path:"/toy/edit/:toyId?",name:"toy-edit",component:mt}]});var ht={state:{toys:[],filterBy:null},getters:{toys(t){return t.toys}},mutations:{setToys(t,{toys:e}){t.toys=e},removeToy(t,{id:e}){const r=t.toys.findIndex(c=>c._id===e);t.toys.splice(r,1)},saveToy(t,{toy:e}){const r=t.toys.findIndex(c=>c._id===e._id);r!==-1?t.toys.splice(r,1,e):t.toys.push(e)},setFilter(t,{filterBy:e}){t.filterBy=e}},actions:{loadToys({commit:t,state:e}){v.query(e.filterBy).then(r=>{t({type:"setToys",toys:r})})},removeToy({commit:t},{id:e}){v.remove(e).then(()=>{t({type:"removeToy",id:e})})},saveToy({commit:t},{toy:e}){v.save(e).then(r=>{t({type:"saveToy",toy:r})})},filter({commit:t,dispatch:e},{filterBy:r}){console.log("filterByStore",r),t({type:"setFilter",filterBy:r}),e({type:"loadToys"})}}};const vt=L({strict:!0,state:{},getters:{},mutations:{},actions:{},modules:{toyStore:ht}}),bt={mounted:t=>{t.focus()}},gt={mounted(t){t.onkeyup=()=>{const e=$t();t.style.backgroundColor=e,t.style.color=kt(e)?"white":"black"}}},Tt={mounted(t,e){const r=e.arg,c=e.value;t.addEventListener(r,c)}};function kt(t){t=t.substring(1);const e=parseInt(t,16),r=e>>16&255,c=e>>8&255,s=e>>0&255;var n=.2126*r+.7152*c+.0722*s;return n<100}function $t(){const t="0123456789ABCDEF";let e="#";for(let r=0;r<6;r++)e+=t[Math.floor(Math.random()*16)];return e}const h=P(Z);h.config.globalProperties.$filters={currencyUSD(t){return"$"+t}};h.directive("focus",bt);h.directive("rainbow",gt);h.directive("custom-on",Tt);h.use(ft);h.use(vt);h.mount("#app");
